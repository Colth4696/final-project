{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/Users/colthafer/final-project/client_side-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/colthafer/final-project/client_side-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/colthafer/final-project/client_side-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/colthafer/final-project/client_side-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/colthafer/final-project/client_side-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import Cable from'./Cable';// import axios from 'axios'\nvar ChatBox=/*#__PURE__*/function(_Component){_inherits(ChatBox,_Component);var _super=_createSuper(ChatBox);function ChatBox(props){var _this;_classCallCheck(this,ChatBox);_this=_super.call(this,props);_this.componentDidMount=function(){Cable.subscriptions.create({channel:_this.props.chatroom.name,volunteer_id:_this.props.volunteer.id},{connected:function connected(response){return console.log(response);},disconnected:function disconnected(){return console.log('disconnected');},received:function received(data){return console.log(data);}});};_this.handleChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(event){event.preventDefault();// const { content, username } = this.state\n// let message = {\n//   body: content,\n//   chatroom_id: this.props.chatroom.id,\n//   volunteer_id: this.props.volunteer.id\n// }\n//     axios.post(\"https://neighboraid.herokuapp.com/messages\", { message },\n//       { withCredentials: true }\n//     )\n//     .then(response => {\n//       if (response.data.status === 'created') {\n//       console.log(response.data)           \n//   }\n// })        \n//   .catch(error => {\n//       console.log(\"request error\", error);\n//   });\nevent.preventDefault();};_this.state={content:\"\"//username: this.props.user && this.props.user.email\n};return _this;}_createClass(ChatBox,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"content\",placeholder:\"message\",value:this.state.content,onChange:this.handleChange,required:true}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Send\"})]})});}}]);return ChatBox;}(Component);export default ChatBox;","map":{"version":3,"sources":["/Users/colthafer/final-project/client_side-main/src/ChatBox.js"],"names":["React","Component","Cable","ChatBox","props","componentDidMount","subscriptions","create","channel","chatroom","name","volunteer_id","volunteer","id","connected","response","console","log","disconnected","received","data","handleChange","event","target","value","setState","handleSubmit","preventDefault","state","content"],"mappings":"w4BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA;GAEMC,CAAAA,O,kGACJ,iBAAYC,KAAZ,CAAmB,yCACjB,uBAAMA,KAAN,EADiB,MAQnBC,iBARmB,CAQC,UAAM,CACxBH,KAAK,CAACI,aAAN,CAAoBC,MAApB,CAA2B,CACzBC,OAAO,CAAE,MAAKJ,KAAL,CAAWK,QAAX,CAAoBC,IADJ,CAE1BC,YAAY,CAAE,MAAKP,KAAL,CAAWQ,SAAX,CAAqBC,EAFT,CAA3B,CAGG,CACDC,SAAS,CAAE,mBAACC,QAAD,QAAcC,CAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ,CAAd,EADV,CAEDG,YAAY,CAAE,8BAAMF,CAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,CAAN,EAFb,CAGDE,QAAQ,CAAE,kBAAAC,IAAI,QAAIJ,CAAAA,OAAO,CAACC,GAAR,CAAYG,IAAZ,CAAJ,EAHb,CAHH,EAQD,CAjBkB,OAsBnBC,YAtBmB,CAsBJ,SAACC,KAAD,CAAW,mBACAA,KAAK,CAACC,MADN,CAChBb,IADgB,eAChBA,IADgB,CACVc,KADU,eACVA,KADU,CAExB,MAAKC,QAAL,oBACGf,IADH,CACUc,KADV,GAGD,CA3BkB,OA6BnBE,YA7BmB,CA6BL,SAACJ,KAAD,CAAW,CACvBA,KAAK,CAACK,cAAN,GACA;AACA;AACA;AACA;AACA;AACA;AAEJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACEL,KAAK,CAACK,cAAN,GACD,CAlDoB,CAEjB,MAAKC,KAAL,CAAa,CACXC,OAAO,CAAE,EACT;AAFW,CAAb,CAFiB,aAMlB,C,2DA8CQ,CACP,mBACE,kCACA,cAAM,QAAQ,CAAE,KAAKH,YAArB,wBACE,cACA,IAAI,CAAC,MADL,CAEA,IAAI,CAAC,SAFL,CAGA,WAAW,CAAC,SAHZ,CAIA,KAAK,CAAE,KAAKE,KAAL,CAAWC,OAJlB,CAKA,QAAQ,CAAE,KAAKR,YALf,CAMA,QAAQ,KANR,EADF,cASE,aATF,cAWE,eAAQ,IAAI,CAAC,QAAb,kBAXF,GADA,EADF,CAiBD,C,qBAvEmBpB,S,EA0EtB,cAAeE,CAAAA,OAAf","sourcesContent":["import React, { Component } from 'react'\r\nimport Cable from './Cable'\r\n// import axios from 'axios'\r\n\r\nclass ChatBox extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = { \r\n      content: \"\",\r\n      //username: this.props.user && this.props.user.email\r\n    }\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    Cable.subscriptions.create({\r\n      channel: this.props.chatroom.name,\r\n     volunteer_id: this.props.volunteer.id,\r\n    }, {\r\n      connected: (response) => console.log(response),\r\n      disconnected: () => console.log('disconnected'),\r\n      received: data => console.log(data),\r\n    })\r\n  };\r\n  // componentWillUnmount = () => {\r\n  //   consumer.disconnect()\r\n  // };\r\n\r\n  handleChange = (event) => {\r\n    const { name, value } = event.target\r\n    this.setState({\r\n      [name]: value\r\n    })\r\n  };\r\n\r\n  handleSubmit= (event) => {\r\n    event.preventDefault()\r\n    // const { content, username } = this.state\r\n    // let message = {\r\n    //   body: content,\r\n    //   chatroom_id: this.props.chatroom.id,\r\n    //   volunteer_id: this.props.volunteer.id\r\n    // }\r\n\r\n//     axios.post(\"https://neighboraid.herokuapp.com/messages\", { message },\r\n//       { withCredentials: true }\r\n//     )\r\n//     .then(response => {\r\n//       if (response.data.status === 'created') {\r\n//       console.log(response.data)           \r\n//   }\r\n// })        \r\n//   .catch(error => {\r\n//       console.log(\"request error\", error);\r\n//   });\r\n  event.preventDefault();\r\n};\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n      <form onSubmit={this.handleSubmit}>\r\n        <input\r\n        type=\"text\"\r\n        name=\"content\"\r\n        placeholder=\"message\"\r\n        value={this.state.content}\r\n        onChange={this.handleChange}\r\n        required />\r\n        \r\n        <br />\r\n\r\n        <button type=\"submit\">Send</button>\r\n      </form>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ChatBox"]},"metadata":{},"sourceType":"module"}