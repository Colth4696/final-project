{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"/Users/colthafer/final-project/client_side-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/colthafer/final-project/client_side-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/colthafer/final-project/client_side-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/colthafer/final-project/client_side-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/colthafer/final-project/client_side-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';var Signup=/*#__PURE__*/function(_Component){_inherits(Signup,_Component);var _super=_createSuper(Signup);function Signup(props){var _this;_classCallCheck(this,Signup);_this=_super.call(this,props);_this.handleChange=function(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;_this.setState(_defineProperty({},name,value));};_this.handleSubmit=function(event){event.preventDefault();var _this$state=_this.state,first_name=_this$state.first_name,last_name=_this$state.last_name,email=_this$state.email,password=_this$state.password,password_confirmation=_this$state.password_confirmation;var user={first_name:first_name,last_name:last_name,email:email,password:password,password_confirmation:password_confirmation};axios.post('https://neighboraid.herokuapp.com/users',{user:user},{withCredentials:true}).then(function(response){if(response.data.status==='created'){_this.props.handleLogin(response.data);_this.redirect();}else{_this.setState({errors:response.data.errors});}}).catch(function(error){return console.log('api errors:',error);});};_this.redirect=function(){_this.props.history.push('/');};_this.handleErrors=function(){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"ul\",{children:_this.state.errors.map(function(error){return/*#__PURE__*/_jsx(\"li\",{children:error},error);})})});};_this.state={first_name:'',last_name:'',email:'',password:'',password_confirmation:'',errors:''};return _this;}_createClass(Signup,[{key:\"render\",value:function render(){var _this$state2=this.state,first_name=_this$state2.first_name,last_name=_this$state2.last_name,email=_this$state2.email,password=_this$state2.password,password_confirmation=_this$state2.password_confirmation;return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{placeholder:\"first_name\",type:\"text\",name:\"first_name\",value:first_name,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"last_name\",type:\"text\",name:\"last_name\",value:last_name,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"email\",type:\"text\",name:\"email\",value:email,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"password\",type:\"password\",name:\"password\",value:password,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"password confirmation\",type:\"password\",name:\"password_confirmation\",value:password_confirmation,onChange:this.handleChange}),/*#__PURE__*/_jsx(\"button\",{placeholder:\"submit\",type:\"submit\",children:\"Sign Up\"})]}),/*#__PURE__*/_jsx(\"div\",{children:this.state.errors?this.handleErrors():null})]});}}]);return Signup;}(Component);export default Signup;","map":{"version":3,"sources":["/Users/colthafer/final-project/client_side-main/src/components/registrations/Signup.js"],"names":["React","Component","axios","Signup","props","handleChange","event","target","name","value","setState","handleSubmit","preventDefault","state","first_name","last_name","email","password","password_confirmation","user","post","withCredentials","then","response","data","status","handleLogin","redirect","errors","catch","error","console","log","history","push","handleErrors","map"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios'\r\n\r\nclass Signup extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { \r\n      first_name: '',\r\n      last_name: '',\r\n      email: '',\r\n      password: '',\r\n      password_confirmation: '',\r\n      errors: ''\r\n     };\r\n  }\r\nhandleChange = (event) => {\r\n    const {name, value} = event.target\r\n    this.setState({\r\n      [name]: value\r\n    })\r\n  };\r\nhandleSubmit = (event) => {\r\n    event.preventDefault()\r\n    const {first_name, last_name, email, password, password_confirmation} = this.state\r\n    let user = {\r\n      first_name: first_name,\r\n      last_name: last_name,\r\n      email: email,\r\n      password: password,\r\n      password_confirmation: password_confirmation\r\n    }\r\naxios.post('https://neighboraid.herokuapp.com/users', {user}, {withCredentials: true})\r\n    .then(response => {\r\n      if (response.data.status === 'created') {\r\n        this.props.handleLogin(response.data)\r\n        this.redirect()\r\n      } else {\r\n        this.setState({\r\n          errors: response.data.errors\r\n        })\r\n      }\r\n    })\r\n    .catch(error => console.log('api errors:', error))\r\n  };\r\nredirect = () => {\r\n    this.props.history.push('/')\r\n  }\r\nhandleErrors = () => {\r\n    return (\r\n      <div>\r\n        <ul>{this.state.errors.map((error) => {\r\n          return <li key={error}>{error}</li>\r\n        })}</ul> \r\n      </div>\r\n    )\r\n  }\r\nrender() {\r\n    const {first_name, last_name, email, password, password_confirmation} = this.state\r\nreturn (\r\n      <div>\r\n        <h1>Sign Up</h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n        <input\r\n            placeholder=\"first_name\"\r\n            type=\"text\"\r\n            name=\"first_name\"\r\n            value={first_name}\r\n            onChange={this.handleChange}\r\n          />\r\n          <input\r\n            placeholder=\"last_name\"\r\n            type=\"text\"\r\n            name=\"last_name\"\r\n            value={last_name}\r\n            onChange={this.handleChange}\r\n          />\r\n          <input\r\n            placeholder=\"email\"\r\n            type=\"text\"\r\n            name=\"email\"\r\n            value={email}\r\n            onChange={this.handleChange}\r\n          />\r\n          <input \r\n            placeholder=\"password\"\r\n            type=\"password\"\r\n            name=\"password\"\r\n            value={password}\r\n            onChange={this.handleChange}\r\n          />\r\n          <input\r\n            placeholder=\"password confirmation\"\r\n            type=\"password\"\r\n            name=\"password_confirmation\"\r\n            value={password_confirmation}\r\n            onChange={this.handleChange}\r\n          />\r\n        \r\n          <button placeholder=\"submit\" type=\"submit\">\r\n            Sign Up\r\n          </button>\r\n      \r\n        </form>\r\n        <div>\r\n          {\r\n            this.state.errors ? this.handleErrors() : null\r\n          }\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nexport default Signup;"]},"metadata":{},"sourceType":"module"}