{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/jameshafer/Downloads/client_side-main/src/MyMarker.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { Marker, InfoWindow } from \"react-google-maps\";\nimport RedIcon from \"./red-user-icon.png\";\nimport GreenIcon from \"./green-home-icon.png\";\nimport axios from \"axios\";\nimport ModalChat from \"./exampleReducer\";\n\nconst MyMarker = props => {\n  _s();\n\n  const [flag, setFlag] = React.useState(false);\n  const [chat, setChat] = React.useState(false);\n  const [volunteer, setVolunteer] = React.useState(false);\n\n  const toggle_open = () => {\n    setFlag(!flag);\n  };\n\n  const getIcon = () => {\n    if (props.request.category === \"Material\") {\n      return RedIcon;\n    } else {\n      return GreenIcon;\n    }\n  };\n\n  const makeVolunteer = () => {\n    const volunteer = {\n      request_id: props.request.id,\n      user_id: props.user.id\n    };\n    console.log(props.user);\n    console.log(volunteer);\n    axios.post(\"http://localhost:3003/volunteers\", {\n      volunteer\n    }).then(response => {\n      console.log(response.data);\n\n      if (response.data.status === \"created\") {\n        setChat(true);\n        setVolunteer(response.data.volunteer);\n      }\n    }).catch(error => {\n      console.error(`error:${error}`);\n    });\n  };\n\n  const MarkStyle = {\n    height: \"30px\",\n    width: \"30px\"\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Marker, {\n      style: MarkStyle,\n      position: props.position,\n      onClick: toggle_open,\n      icon: getIcon(),\n      children: flag && /*#__PURE__*/_jsxDEV(InfoWindow, {\n        onCloseClick: toggle_open,\n        user: props.user,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\"Task ID:\", props.request.id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: [\"Requester ID:\", props.request.user_id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: props.request.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: props.request.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 15\n          }, this), !chat ? /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: makeVolunteer,\n            children: \"Volunteer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 24\n          }, this) : /*#__PURE__*/_jsxDEV(ModalChat, {\n            cableApp: props.CableApp,\n            request: props.request,\n            volunteer: volunteer\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 76\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 20\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 7\n  }, this);\n};\n\n_s(MyMarker, \"MMkpmT4w42zaRan+aBIQS+kB0YM=\");\n\n_c = MyMarker;\nexport default MyMarker;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyMarker\");","map":{"version":3,"sources":["/Users/jameshafer/Downloads/client_side-main/src/MyMarker.js"],"names":["React","Redirect","Marker","InfoWindow","RedIcon","GreenIcon","axios","ModalChat","MyMarker","props","flag","setFlag","useState","chat","setChat","volunteer","setVolunteer","toggle_open","getIcon","request","category","makeVolunteer","request_id","id","user_id","user","console","log","post","then","response","data","status","catch","error","MarkStyle","height","width","position","title","description","CableApp"],"mappings":"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","sourcesContent":["\r\nimport React from \"react\"\r\nimport { Redirect } from \"react-router-dom\"\r\nimport { Marker, InfoWindow } from \"react-google-maps\"\r\nimport RedIcon from \"./red-user-icon.png\"\r\nimport GreenIcon from \"./green-home-icon.png\"\r\nimport axios from \"axios\"\r\nimport ModalChat from \"./exampleReducer\"\r\n\r\n\r\nconst MyMarker = (props) => {\r\n const [flag, setFlag] = React.useState(false);\r\n const [chat, setChat] = React.useState(false);\r\n const [volunteer, setVolunteer] = React.useState(false);\r\n\r\n   const toggle_open = () => {\r\n    setFlag(!flag)\r\n  }\r\n \r\n  const  getIcon = () => {\r\n    if (props.request.category === \"Material\" ) { return RedIcon }\r\n    else { return GreenIcon }\r\n  }\r\n\r\n  const makeVolunteer = () => {\r\n    const volunteer = {\r\n      request_id: props.request.id,\r\n      user_id: props.user.id\r\n    }\r\n      console.log(props.user)\r\n      console.log(volunteer)\r\n      axios.post(\"http://localhost:3003/volunteers\", {volunteer})\r\n        .then(response => {\r\n          console.log(response.data)\r\n          if (response.data.status === \"created\") {\r\n            setChat(true)\r\n            setVolunteer(response.data.volunteer)\r\n          } \r\n        })\r\n        .catch(error => {\r\n          console.error(`error:${error}`)\r\n        })\r\n  }\r\n\r\n    const MarkStyle = {\r\n      height: \"30px\",\r\n      width: \"30px\"\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <Marker\r\n          style={MarkStyle}\r\n          position={props.position}\r\n          onClick={toggle_open}\r\n          icon={getIcon()}>\r\n            \r\n          {flag && <InfoWindow onCloseClick={toggle_open} user={props.user}>\r\n\r\n            <div>\r\n              <h4>Task ID:{props.request.id}</h4>\r\n              <h4>Requester ID:{props.request.user_id}</h4>\r\n              <h1>{props.request.title}</h1>\r\n              <h3>{props.request.description}</h3>\r\n              {!chat ? <button onClick={makeVolunteer}>Volunteer</button>: <ModalChat cableApp={props.CableApp} request={props.request} volunteer={volunteer}/>}\r\n             </div>\r\n          </InfoWindow>}\r\n        </Marker>\r\n      </div>\r\n    )\r\n    }\r\n    \r\n\r\n\r\nexport default MyMarker"]},"metadata":{},"sourceType":"module"}