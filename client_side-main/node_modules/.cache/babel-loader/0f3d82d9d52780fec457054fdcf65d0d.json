{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import _objectSpread from\"/Users/colthafer/final-project/client_side-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{jsx as _jsx}from\"react/jsx-runtime\";import _classCallCheck from\"/Users/colthafer/final-project/client_side-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/colthafer/final-project/client_side-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/colthafer/final-project/client_side-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/colthafer/final-project/client_side-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import{BrowserRouter,Switch,Route}from'react-router-dom';import Home from'./Home';import Login from'./components/registrations/Login';import Signup from'./components/registrations/Signup';var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(props){var _this;_classCallCheck(this,App);_this=_super.call(this,props);_this.loginStatus=function(){axios.get('https://neighboraid.herokuapp.com/logged_in',{withCredentials:true}).then(function(response){console.log(response);if(response.data.logged_in){_this.handleLogin(response.data);}else{_this.handleLogout();}}).catch(function(error){return console.error('api errors:',error);});};_this.handleLogin=function(data){_this.setState({isLoggedIn:true,user:data.user});};_this.handleLogout=function(){_this.setState({isLoggedIn:false,user:{}});};_this.state={isLoggedIn:false,user:{}};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){this.loginStatus();}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{exact:true,path:\"/Home\",render:function render(props){return/*#__PURE__*/_jsx(Home,_objectSpread(_objectSpread({},props),{},{handleLogout:_this2.handleLogout,user:_this2.state.user,loggedInStatus:_this2.state.isLoggedIn}));}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/login\",render:function render(props){return/*#__PURE__*/_jsx(Login,_objectSpread(_objectSpread({},props),{},{handleLogin:_this2.handleLogin,loggedInStatus:_this2.state.isLoggedIn}));}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/signup\",render:function render(props){return/*#__PURE__*/_jsx(Signup,_objectSpread(_objectSpread({},props),{},{handleLogin:_this2.handleLogin,loggedInStatus:_this2.state.isLoggedIn}));}})]})})});}}]);return App;}(Component);export default App;","map":{"version":3,"sources":["/Users/colthafer/final-project/client_side-main/src/App.js"],"names":["React","Component","axios","BrowserRouter","Switch","Route","Home","Login","Signup","App","props","loginStatus","get","withCredentials","then","response","console","log","data","logged_in","handleLogin","handleLogout","catch","error","setState","isLoggedIn","user","state"],"mappings":"q4BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAAQC,aAAR,CAAuBC,MAAvB,CAA+BC,KAA/B,KAA2C,kBAA3C,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,kCAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,mCAAnB,C,GAEMC,CAAAA,G,0FACJ,aAAYC,KAAZ,CAAmB,qCACjB,uBAAMA,KAAN,EADiB,MAYrBC,WAZqB,CAYP,UAAM,CAChBT,KAAK,CAACU,GAAN,CAAU,6CAAV,CAAyD,CAACC,eAAe,CAAE,IAAlB,CAAzD,EACCC,IADD,CACM,SAAAC,QAAQ,CAAI,CAChBC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACA,GAAIA,QAAQ,CAACG,IAAT,CAAcC,SAAlB,CAA6B,CAC3B,MAAKC,WAAL,CAAiBL,QAAQ,CAACG,IAA1B,EACD,CAFD,IAEO,CACL,MAAKG,YAAL,GACD,CACF,CARD,EASCC,KATD,CASO,SAAAC,KAAK,QAAIP,CAAAA,OAAO,CAACO,KAAR,CAAc,aAAd,CAA6BA,KAA7B,CAAJ,EATZ,EAUD,CAvBkB,OAwBrBH,WAxBqB,CAwBP,SAACF,IAAD,CAAU,CACpB,MAAKM,QAAL,CAAc,CACZC,UAAU,CAAE,IADA,CAEZC,IAAI,CAAER,IAAI,CAACQ,IAFC,CAAd,EAID,CA7BkB,OA8BrBL,YA9BqB,CA8BN,UAAM,CACjB,MAAKG,QAAL,CAAc,CACdC,UAAU,CAAE,KADE,CAEdC,IAAI,CAAE,EAFQ,CAAd,EAID,CAnCkB,CAEjB,MAAKC,KAAL,CAAa,CACXF,UAAU,CAAE,KADD,CAEXC,IAAI,CAAE,EAFK,CAAb,CAFiB,aAMlB,C,6EAEiB,CAClB,KAAKf,WAAL,GACD,C,uCA0BQ,iBACL,mBACE,kCACE,KAAC,aAAD,wBACE,MAAC,MAAD,yBACE,KAAC,KAAD,EACE,KAAK,KADP,CACQ,IAAI,CAAC,OADb,CAEE,MAAM,CAAE,gBAAAD,KAAK,qBACb,KAAC,IAAD,gCAAUA,KAAV,MAAiB,YAAY,CAAE,MAAI,CAACW,YAApC,CAAkD,IAAI,CAAE,MAAI,CAACM,KAAL,CAAWD,IAAnE,CAAyE,cAAc,CAAE,MAAI,CAACC,KAAL,CAAWF,UAApG,GADa,EAFf,EADF,cAOE,KAAC,KAAD,EACE,KAAK,KADP,CACQ,IAAI,CAAC,QADb,CAEE,MAAM,CAAE,gBAAAf,KAAK,qBACb,KAAC,KAAD,gCAAWA,KAAX,MAAkB,WAAW,CAAE,MAAI,CAACU,WAApC,CAAiD,cAAc,CAAE,MAAI,CAACO,KAAL,CAAWF,UAA5E,GADa,EAFf,EAPF,cAaE,KAAC,KAAD,EACE,KAAK,KADP,CACQ,IAAI,CAAC,SADb,CAEE,MAAM,CAAE,gBAAAf,KAAK,qBACb,KAAC,MAAD,gCAAYA,KAAZ,MAAmB,WAAW,CAAE,MAAI,CAACU,WAArC,CAAkD,cAAc,CAAE,MAAI,CAACO,KAAL,CAAWF,UAA7E,GADa,EAFf,EAbF,GADF,EADF,EADF,CA0BD,C,iBAhEexB,S,EAkElB,cAAeQ,CAAAA,GAAf","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios'\nimport {BrowserRouter, Switch, Route} from 'react-router-dom'\nimport Home from './Home'\nimport Login from './components/registrations/Login'\nimport Signup from './components/registrations/Signup'\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = { \n      isLoggedIn: false,\n      user: {},\n     }\n  }\n\ncomponentDidMount() {\n  this.loginStatus();\n}\n\nloginStatus = () => {\n    axios.get('https://neighboraid.herokuapp.com/logged_in', {withCredentials: true})\n    .then(response => {\n      console.log(response);\n      if (response.data.logged_in) {\n        this.handleLogin(response.data)\n      } else {\n        this.handleLogout()\n      }\n    })\n    .catch(error => console.error('api errors:', error))\n  }\nhandleLogin = (data) => {\n    this.setState({\n      isLoggedIn: true,\n      user: data.user\n    })\n  }\nhandleLogout = () => {\n    this.setState({\n    isLoggedIn: false,\n    user: {}\n    })\n  }\nrender() {\n    return (\n      <div>\n        <BrowserRouter>\n          <Switch>\n            <Route \n              exact path='/Home' \n              render={props => (\n              <Home {...props} handleLogout={this.handleLogout} user={this.state.user} loggedInStatus={this.state.isLoggedIn}/>\n              )}\n            />\n            <Route \n              exact path='/login' \n              render={props => (\n              <Login {...props} handleLogin={this.handleLogin} loggedInStatus={this.state.isLoggedIn}/>\n              )}\n            />\n            <Route \n              exact path='/signup' \n              render={props => (\n              <Signup {...props} handleLogin={this.handleLogin} loggedInStatus={this.state.isLoggedIn}/>\n              )}\n            />\n          </Switch>\n        </BrowserRouter>\n      </div>\n    );\n  }\n}\nexport default App;\n"]},"metadata":{},"sourceType":"module"}